<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE StaticPointers #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Distributed.Dataset.Local</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Control.Distributed.Dataset.Local.html#withLocalTmpShuffleStore"><span class="hs-identifier">withLocalTmpShuffleStore</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Control.Distributed.Fork.Local.html#localProcessBackend"><span class="hs-identifier">localProcessBackend</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">where</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/kdhpqqclg12pcmqzh5hc4ycqlvwqps6g-conduit-1.3.2-doc/share/doc/conduit-1.3.2/html/src"><span class="hs-identifier">Conduit</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/njgyaw2jbdchp0qz873744qkw2fdx1il-distributed-closure-0.4.2.0-doc/share/doc/distributed-closure-0.4.2.0/html/src"><span class="hs-identifier">Control.Distributed.Closure</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Distributed.Dataset.ShuffleStore.html"><span class="hs-identifier">Control.Distributed.Dataset.ShuffleStore</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Distributed.Fork.Local.html"><span class="hs-identifier">Control.Distributed.Fork.Local</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier">Control.Exception</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier">bracket</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/bytestring-0.10.10.0/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/qyipzaz1wf84ygb5r3h6q5w3fr19s3im-conduit-extra-1.3.5-doc/share/doc/conduit-extra-1.3.5/html/src"><span class="hs-identifier">Data.Conduit.Binary</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/kdhpqqclg12pcmqzh5hc4ycqlvwqps6g-conduit-1.3.2-doc/share/doc/conduit-1.3.2/html/src"><span class="hs-identifier">Data.Conduit.Combinators</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/directory-1.3.6.0/src"><span class="hs-identifier">System.Directory</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/filepath-1.4.2.1/src"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/unix-2.7.2.2/src"><span class="hs-identifier">System.Posix.Temp</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier">rem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- Uses a temporary directory in the local disk as a 'ShuffleStore'.</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-comment">-- Useful for testing purposes.</span><span>
</span><span id="line-30"></span><span id="local-6989586621679160903"><span class="annot"><a href="Control.Distributed.Dataset.Local.html#withLocalTmpShuffleStore"><span class="hs-identifier hs-type">withLocalTmpShuffleStore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Distributed.Dataset.ShuffleStore.html#ShuffleStore"><span class="hs-identifier hs-type">ShuffleStore</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679160903"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679160903"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-31"></span><span id="withLocalTmpShuffleStore"><span class="annot"><span class="annottext">withLocalTmpShuffleStore :: (ShuffleStore -&gt; IO a) -&gt; IO a
</span><a href="Control.Distributed.Dataset.Local.html#withLocalTmpShuffleStore"><span class="hs-identifier hs-var hs-var">withLocalTmpShuffleStore</span></a></span></span><span> </span><span id="local-6989586621679160902"><span class="annot"><span class="annottext">ShuffleStore -&gt; IO a
</span><a href="#local-6989586621679160902"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><span class="annottext">IO FilePath -&gt; (FilePath -&gt; IO ()) -&gt; (FilePath -&gt; IO a) -&gt; IO a
forall a b c. IO a -&gt; (a -&gt; IO b) -&gt; (a -&gt; IO c) -&gt; IO c
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-var">bracket</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; IO FilePath
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/unix-2.7.2.2/src"><span class="hs-identifier hs-var">mkdtemp</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;/tmp/dd-&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="annottext">FilePath -&gt; IO ()
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/directory-1.3.6.0/src"><span class="hs-identifier hs-var">removeDirectoryRecursive</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShuffleStore -&gt; IO a
</span><a href="#local-6989586621679160902"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="annot"><span class="annottext">(ShuffleStore -&gt; IO a)
-&gt; (FilePath -&gt; ShuffleStore) -&gt; FilePath -&gt; IO a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ShuffleStore
</span><a href="#local-6989586621679160898"><span class="hs-identifier hs-var">mk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="#local-6989586621679160898"><span class="hs-identifier hs-type">mk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Distributed.Dataset.ShuffleStore.html#ShuffleStore"><span class="hs-identifier hs-type">ShuffleStore</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span id="local-6989586621679160898"><span class="annot"><span class="annottext">mk :: FilePath -&gt; ShuffleStore
</span><a href="#local-6989586621679160898"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621679160896"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160896"><span class="hs-identifier hs-var">tmp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-39"></span><span>      </span><span class="annot"><span class="annottext">ShuffleStore :: Closure
  (Int64 -&gt; Range -&gt; ConduitT () ByteString (ResourceT IO) ())
-&gt; Closure (Int64 -&gt; ConduitT ByteString Void (ResourceT IO) ())
-&gt; ShuffleStore
</span><a href="Control.Distributed.Dataset.ShuffleStore.html#ShuffleStore"><span class="hs-identifier hs-type">ShuffleStore</span></a></span><span>
</span><span id="line-40"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ssGet :: Closure
  (Int64 -&gt; Range -&gt; ConduitT () ByteString (ResourceT IO) ())
</span><a href="Control.Distributed.Dataset.ShuffleStore.html#ssGet"><span class="hs-identifier hs-var">ssGet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">static</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679160893"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160893"><span class="hs-identifier hs-var">tmp</span></a></span></span><span> </span><span id="local-6989586621679160892"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679160892"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span id="local-6989586621679160891"><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621679160891"><span class="hs-identifier hs-var">range</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Range -&gt; FilePath -&gt; ConduitT () ByteString (ResourceT IO) ()
forall t.
Range -&gt; FilePath -&gt; ConduitT t ByteString (ResourceT IO) ()
</span><a href="Control.Distributed.Dataset.Local.html#streamFile"><span class="hs-identifier hs-var">streamFile</span></a></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621679160891"><span class="hs-identifier hs-var">range</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160893"><span class="hs-identifier hs-var">tmp</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/filepath-1.4.2.1/src"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679160892"><span class="hs-identifier hs-var">int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Closure
  (FilePath
   -&gt; Int64 -&gt; Range -&gt; ConduitT () ByteString (ResourceT IO) ())
-&gt; Closure FilePath
-&gt; Closure
     (Int64 -&gt; Range -&gt; ConduitT () ByteString (ResourceT IO) ())
forall a b.
Typeable a =&gt;
Closure (a -&gt; b) -&gt; Closure a -&gt; Closure b
</span><a href="../file:///nix/store/njgyaw2jbdchp0qz873744qkw2fdx1il-distributed-closure-0.4.2.0-doc/share/doc/distributed-closure-0.4.2.0/html/src"><span class="hs-operator hs-var">`cap`</span></a></span><span> </span><span class="annot"><span class="annottext">Closure (Dict (Serializable FilePath))
-&gt; FilePath -&gt; Closure FilePath
forall a. Closure (Dict (Serializable a)) -&gt; a -&gt; Closure a
</span><a href="../file:///nix/store/njgyaw2jbdchp0qz873744qkw2fdx1il-distributed-closure-0.4.2.0-doc/share/doc/distributed-closure-0.4.2.0/html/src"><span class="hs-identifier hs-var">cpure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">static</span><span> </span><span class="annot"><span class="annottext">Dict (Serializable FilePath)
forall (a :: Constraint). a =&gt; Dict a
</span><a href="../file:///nix/store/4jpai2h6b0j4n52h6j98s4v8afs01fr1-constraints-0.11.2-doc/share/doc/constraints-0.11.2/html/src"><span class="hs-identifier hs-var">Dict</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160896"><span class="hs-identifier hs-var">tmp'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>          </span><span class="annot"><span class="annottext">ssPut :: Closure (Int64 -&gt; ConduitT ByteString Void (ResourceT IO) ())
</span><a href="Control.Distributed.Dataset.ShuffleStore.html#ssPut"><span class="hs-identifier hs-var">ssPut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">static</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679160883"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160883"><span class="hs-identifier hs-var">tmp</span></a></span></span><span> </span><span id="local-6989586621679160882"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679160882"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ConduitT ByteString Void (ResourceT IO) ()
forall (m :: * -&gt; *) o.
MonadResource m =&gt;
FilePath -&gt; ConduitT ByteString o m ()
</span><a href="../file:///nix/store/kdhpqqclg12pcmqzh5hc4ycqlvwqps6g-conduit-1.3.2-doc/share/doc/conduit-1.3.2/html/src"><span class="hs-identifier hs-var">C.sinkFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160883"><span class="hs-identifier hs-var">tmp</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/filepath-1.4.2.1/src"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679160882"><span class="hs-identifier hs-var">int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Closure
  (FilePath -&gt; Int64 -&gt; ConduitT ByteString Void (ResourceT IO) ())
-&gt; Closure FilePath
-&gt; Closure (Int64 -&gt; ConduitT ByteString Void (ResourceT IO) ())
forall a b.
Typeable a =&gt;
Closure (a -&gt; b) -&gt; Closure a -&gt; Closure b
</span><a href="../file:///nix/store/njgyaw2jbdchp0qz873744qkw2fdx1il-distributed-closure-0.4.2.0-doc/share/doc/distributed-closure-0.4.2.0/html/src"><span class="hs-operator hs-var">`cap`</span></a></span><span> </span><span class="annot"><span class="annottext">Closure (Dict (Serializable FilePath))
-&gt; FilePath -&gt; Closure FilePath
forall a. Closure (Dict (Serializable a)) -&gt; a -&gt; Closure a
</span><a href="../file:///nix/store/njgyaw2jbdchp0qz873744qkw2fdx1il-distributed-closure-0.4.2.0-doc/share/doc/distributed-closure-0.4.2.0/html/src"><span class="hs-identifier hs-var">cpure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">static</span><span> </span><span class="annot"><span class="annottext">Dict (Serializable FilePath)
forall (a :: Constraint). a =&gt; Dict a
</span><a href="../file:///nix/store/4jpai2h6b0j4n52h6j98s4v8afs01fr1-constraints-0.11.2-doc/share/doc/constraints-0.11.2/html/src"><span class="hs-identifier hs-var">Dict</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160896"><span class="hs-identifier hs-var">tmp'</span></a></span><span>
</span><span id="line-42"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span id="local-6989586621679160928"><span class="annot"><a href="Control.Distributed.Dataset.Local.html#streamFile"><span class="hs-identifier hs-type">streamFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Distributed.Dataset.ShuffleStore.html#Range"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/kdhpqqclg12pcmqzh5hc4ycqlvwqps6g-conduit-1.3.2-doc/share/doc/conduit-1.3.2/html/src"><span class="hs-identifier hs-type">ConduitT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679160928"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/bytestring-0.10.10.0/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/x49rz651v9cgnj874d6smacv0b5w45bn-resourcet-1.2.4-doc/share/doc/resourcet-1.2.4/html/src"><span class="hs-identifier hs-type">ResourceT</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-45"></span><span id="streamFile"><span class="annot"><span class="annottext">streamFile :: Range -&gt; FilePath -&gt; ConduitT t ByteString (ResourceT IO) ()
</span><a href="Control.Distributed.Dataset.Local.html#streamFile"><span class="hs-identifier hs-var hs-var">streamFile</span></a></span></span><span> </span><span class="annot"><span class="annottext">Range
</span><a href="Control.Distributed.Dataset.ShuffleStore.html#RangeAll"><span class="hs-identifier hs-var">RangeAll</span></a></span><span> </span><span id="local-6989586621679160879"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160879"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ConduitT t ByteString (ResourceT IO) ()
forall (m :: * -&gt; *) i.
MonadResource m =&gt;
FilePath -&gt; ConduitT i ByteString m ()
</span><a href="../file:///nix/store/kdhpqqclg12pcmqzh5hc4ycqlvwqps6g-conduit-1.3.2-doc/share/doc/conduit-1.3.2/html/src"><span class="hs-identifier hs-var">C.sourceFile</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160879"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-46"></span><span class="annot"><a href="Control.Distributed.Dataset.Local.html#streamFile"><span class="hs-identifier hs-var">streamFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Distributed.Dataset.ShuffleStore.html#RangeOnly"><span class="hs-identifier hs-type">RangeOnly</span></a></span><span> </span><span id="local-6989586621679160876"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679160876"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span id="local-6989586621679160875"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679160875"><span class="hs-identifier hs-var">end</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679160874"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160874"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; Maybe Integer
-&gt; Maybe Integer
-&gt; ConduitT t ByteString (ResourceT IO) ()
forall (m :: * -&gt; *) i.
MonadResource m =&gt;
FilePath
-&gt; Maybe Integer -&gt; Maybe Integer -&gt; ConduitT i ByteString m ()
</span><a href="../file:///nix/store/qyipzaz1wf84ygb5r3h6q5w3fr19s3im-conduit-extra-1.3.5-doc/share/doc/conduit-extra-1.3.5/html/src"><span class="hs-identifier hs-var">sourceFileRange</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679160874"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679160876"><span class="hs-identifier hs-var">start</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Maybe Integer) -&gt; Integer -&gt; Maybe Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679160875"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679160876"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/0z7pkxg8ybr9djlmx845qgjc51n6baha-ghc-8.10.1-doc/share/doc/ghc/html/libraries/base-4.14.0.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span></pre></body></html>